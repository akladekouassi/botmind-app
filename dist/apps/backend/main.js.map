{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./apps/backend/src/app/helpers/checker.ts","webpack:///./apps/backend/src/app/helpers/dbConnexion.ts","webpack:///./apps/backend/src/app/helpers/index.ts","webpack:///./apps/backend/src/app/helpers/jwtStrategy.ts","webpack:///./apps/backend/src/app/helpers/passport.ts","webpack:///./apps/backend/src/app/helpers/validators.ts","webpack:///./apps/backend/src/app/routes/auth/auth.ts","webpack:///./apps/backend/src/app/routes/blogs/blog-models.ts","webpack:///./apps/backend/src/app/routes/blogs/blog-routes.ts","webpack:///./apps/backend/src/app/routes/users/user-models.ts","webpack:///./apps/backend/src/app/routes/users/user-routes.ts","webpack:///./apps/backend/src/main.ts","webpack:///./libs/database-logics/src/index.ts","webpack:///./libs/database-logics/src/lib/database-logics.ts","webpack:///external \"bcryptjs\"","webpack:///external \"cors\"","webpack:///external \"dotenv\"","webpack:///external \"express\"","webpack:///external \"express-validator\"","webpack:///external \"fs\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"lodash/fp\"","webpack:///external \"mongoose\"","webpack:///external \"morgan\"","webpack:///external \"passport\"","webpack:///external \"passport-jwt\"","webpack:///external \"path\"","webpack:///external \"shortid\"","webpack:///external \"tslib\"","webpack:///external \"validator\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { Request, Response, NextFunction } from 'express';\nimport { validationResult } from 'express-validator';\nexport const ensureAuthenticated = (req: Request, res: Response, next: NextFunction) => {\n  if (req.isAuthenticated()) {\n    return next();\n  }\n  /* istanbul ignore next */\n  res.status(401).send({\n    error: 'Unauthorized',\n  });\n};\n\nexport const validateMiddleware = (validations: any[]) => {\n  return async (req: Request, res: Response, next: NextFunction) => {\n    await Promise.all(validations.map((validation: any) => validation.run(req)));\n\n    const errors = validationResult(req);\n    if (errors.isEmpty()) {\n      return next();\n    }\n\n    res.status(422).json({ errors: errors.array() });\n  };\n};\n","import mongoose = require('mongoose');\n\nmongoose\n  .connect(`mongodb+srv://Akladekouassi:Akladekouassi@cluster0.8stux.mongodb.net/Botmind?authMechanism=SCRAM-SHA-1`, {\n    useUnifiedTopology: true,\n    useNewUrlParser: true,\n  })\n  .then(() => console.log('MONGODB connected successfully'))\n  .catch(err => console.log('Error occured when connecting to the DB:', err));\n","export * from './checker';\nexport * from './dbConnexion';\nexport * from './validators';\n","// const crypto = require('crypto');\nimport * as crypto from 'crypto';\nconst jsonwebtoken = require('jsonwebtoken');\nconst fs = require('fs');\nconst path = require('path');\n\nconst pathToKey = path.join(__dirname, '../../..', 'id_rsa_priv.pem');\nconst PRIV_KEY = fs.readFileSync(pathToKey, 'utf8');\n\n/**\n * @param {*} user - The user object.  We need this to set the JWT `sub` payload property to the MongoDB user ID\n */\nfunction issueJWT(user) {\n  const _id = user._id;\n\n  const expiresIn = '1d';\n\n  const payload = {\n    sub: _id,\n    iat: Date.now(),\n  };\n\n  const signedToken = jsonwebtoken.sign(payload, PRIV_KEY, { expiresIn: expiresIn, algorithm: 'RS256' });\n\n  return {\n    token: 'Bearer ' + signedToken,\n    expires: expiresIn,\n  };\n}\n\nmodule.exports.issueJWT = issueJWT;\n","const JwtStrategy = require('passport-jwt').Strategy;\nconst ExtractJwt = require('passport-jwt').ExtractJwt;\nconst fs = require('fs');\nconst path = require('path');\nimport { userModel } from 'apps/backend/src/app/routes/users/user-models';\n\nconst pathToKey = path.join(__dirname, '../../..', 'id_rsa_priv.pem');\nconst PUB_KEY = fs.readFileSync(pathToKey, 'utf8');\n\nconst options = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: PUB_KEY,\n  algorithms: ['RS256'],\n};\n\nmodule.exports = passport => {\n  passport.use(\n    new JwtStrategy(options, function (jwt_payload, done) {\n      userModel.findOne({ _id: jwt_payload.sub }, function (err, user) {\n        if (err) {\n          return done(err, false, { success: false, message: 'something went wrong' });\n        }\n        if (user) {\n          return done(null, user);\n        } else {\n          return done(null, false, { success: false, message: 'could not find user' });\n        }\n      });\n    })\n  );\n};\n","import { body, check, oneOf, query, sanitizeQuery } from 'express-validator';\nimport { isValid } from 'shortid';\nimport { includes } from 'lodash/fp';\n\nconst TransactionStatusValues = Object.values({});\nconst RequestStatusValues = Object.values({});\nconst DefaultPrivacyLevelValues = Object.values({});\nconst NotificationsTypeValues = Object.values({});\n\n// Validators\n\nconst isShortId = (value: string) => isValid(value);\n\nexport const shortIdValidation = (key: string) => check(key).custom(isShortId);\n\nexport const searchValidation = query('q').exists();\n\nexport const userFieldsValidator = oneOf([\n  check('firstName').exists(),\n  check('lastName').exists(),\n  check('password').exists(),\n  check('balance').exists(),\n  check('avatar').exists(),\n  check('defaultPrivacyLevel').exists(),\n]);\n\nexport const isBankAccountValidator = [\n  body('bankName').isString().trim(),\n  body('accountNumber').isString().trim(),\n  body('routingNumber').isString().trim(),\n];\n\nexport const isUserValidator = [\n  check('firstName').optional({ checkFalsy: true }).isString().trim(),\n  check('lastName').optional({ checkFalsy: true }).isString().trim(),\n  check('username').optional({ checkFalsy: true }).isString().trim(),\n  check('password').optional({ checkFalsy: true }).isString().trim(),\n  check('email').optional({ checkFalsy: true }).isString().trim(),\n  check('phoneNumber').optional({ checkFalsy: true }).isString().trim(),\n  check('balance').optional({ checkFalsy: true }).isNumeric().trim(),\n  check('avatar').optional({ checkFalsy: true }).isURL().trim(),\n  check('defaultPrivacyLevel').optional({ checkFalsy: true }).isIn(['public', 'private', 'contacts']),\n];\n\nexport const sanitizeTransactionStatus = sanitizeQuery('status').customSanitizer(value => {\n  /* istanbul ignore if*/\n  if (includes(value, TransactionStatusValues)) {\n    return value;\n  }\n  return;\n});\n\n// default request status to undefined if not provided\nexport const sanitizeRequestStatus = sanitizeQuery('requestStatus').customSanitizer(value => {\n  /* istanbul ignore if*/\n  if (includes(value, RequestStatusValues)) {\n    return value;\n  }\n  return;\n});\n\nexport const isTransactionQSValidator = [\n  query('status').isIn(TransactionStatusValues).optional().trim(),\n  query('requestStatus').optional({ checkFalsy: true }).isIn(RequestStatusValues).trim(),\n  query('receiverId').optional({ checkFalsy: true }).isString().trim(),\n  query('senderId').optional({ checkFalsy: true }).isString().trim(),\n  query('rangeStartTs').optional({ checkFalsy: true }).isString().trim(),\n  query('rangeEndTs').optional({ checkFalsy: true }).isString().trim(),\n  query('amountMax').optional({ checkFalsy: true }).isNumeric().trim(),\n  query('amountMin').optional({ checkFalsy: true }).isNumeric().trim(),\n];\n\nexport const isTransactionPayloadValidator = [\n  body('transactionType').isIn(['payment', 'request']).trim(),\n  body('privacyLevel').optional().isIn(DefaultPrivacyLevelValues).trim(),\n  body('source').optional().isString().trim(),\n  body('receiverId').isString().trim(),\n  body('description').isString().trim(),\n  body('amount').isNumeric().trim().toInt(),\n];\n\nexport const isTransactionPatchValidator = [body('requestStatus').isIn(RequestStatusValues)];\n\nexport const isTransactionPublicQSValidator = [query('order').optional({ checkFalsy: true }).isIn(['default'])];\n\nexport const isCommentValidator = body('content').isString().trim();\n\nexport const isNotificationsBodyValidator = [\n  body('items.*.type').isIn(NotificationsTypeValues).trim(),\n  body('items.*.transactionId').custom(isShortId),\n];\n\nexport const isNotificationPatchValidator = [body('isRead').isBoolean()];\n\nexport const isValidEntityValidator = [\n  check('entity')\n    .isIn(['users', 'contacts', 'bankaccounts', 'notifications', 'transactions', 'likes', 'comments', 'banktransfers'])\n    .trim(),\n];\n","import * as express from 'express';\nimport * as bcrypt from 'bcryptjs';\nimport { userModel } from 'apps/backend/src/app/routes/users/user-models';\nconst router = express.Router();\nconst jwtStrategy = require('../../helpers/jwtStrategy');\n\n// Validate an existing user and issue a JWT\nrouter.post('/login', function (req, res, next) {\n  userModel\n    .findOne({ username: req.body.username })\n    .then((user: any) => {\n      if (!user) {\n        return res.status(401).json({ success: false, message: 'could not find user' });\n      }\n\n      bcrypt.compare(req.body.password, user?.password, (err, isMatch) => {\n        if (err) throw err;\n        if (isMatch) {\n          const tokenObject = jwtStrategy.issueJWT(user);\n\n          res.status(200).json({\n            success: true,\n            message: 'Connected successfully',\n            user,\n            token: tokenObject.token,\n            expiresIn: tokenObject.expires,\n          });\n        } else {\n          res.status(401).json({ success: false, message: 'you entered the wrong password' });\n        }\n      });\n    })\n    .catch(err => {\n      next(err);\n    });\n});\n\nrouter.post('/logout', (req: express.Request, res: express.Response) => {\n  res.clearCookie('connect.sid');\n  req.logout();\n  return res.json({ success: true, message: 'loggedOut succesfully' });\n});\n\nrouter.get('/checkAuth', (req, res) => {\n  if (!req.user) {\n    res.status(401).json({ error: 'User is unauthorized' });\n  } else {\n    res.status(200).json({ user: req.user });\n  }\n});\n\nexport default router;\n","const mongoose = require('mongoose'); // Node Tool for MongoDB\nmongoose.Promise = global.Promise; // Configure Mongoose Promises\nconst Schema = mongoose.Schema; // Import Schema from Mongoose\n\n// Validate Function to check blog title length\nlet titleLengthChecker = title => {\n  if (!title) {\n    return false; // Return error\n  } else {\n    // Check the length of title\n    if (title.length < 5 || title.length > 50) {\n      return false; // Return error if not within proper length\n    } else {\n      return true; // Return as valid title\n    }\n  }\n};\n\nlet alphaNumericTitleChecker = title => {\n  if (!title) {\n    return false;\n  } else {\n    const regExp = new RegExp(/^[a-zA-Z0-9 ]+$/);\n    return regExp.test(title); // Return regular expression test results (true or false)\n  }\n};\n\n// Array of Title Validators\nconst titleValidators = [\n  // First Title Validator\n  {\n    validator: titleLengthChecker,\n    message: 'Title must be more than 5 characters but no more than 50',\n  },\n  // Second Title Validator\n  {\n    validator: alphaNumericTitleChecker,\n    message: 'Title must be alphanumeric',\n  },\n];\n\n// Validate Function to check body length\nlet bodyLengthChecker = body => {\n  // Check if body exists\n  if (!body) {\n    return false; // Return error\n  } else {\n    // Check length of body\n    if (body.length < 5 || body.length > 1000) {\n      return false; // Return error if does not meet length requirement\n    } else {\n      return true; // Return as valid body\n    }\n  }\n};\n\n// Array of Body validators\nconst bodyValidators = [\n  // First Body validator\n  {\n    validator: bodyLengthChecker,\n    message: 'Body must be more than 5 characters but no more than 500.',\n  },\n];\n\n// Validate Function to check comment length\nlet commentLengthChecker = comment => {\n  // Check if comment exists\n  if (!comment[0]) {\n    return false; // Return error\n  } else {\n    // Check comment length\n    if (comment[0].length < 1 || comment[0].length > 200) {\n      return false; // Return error if comment length requirement is not met\n    } else {\n      return true; // Return comment as valid\n    }\n  }\n};\n\n// Array of Comment validators\nconst commentValidators = [\n  // First comment validator\n  {\n    validator: commentLengthChecker,\n    message: 'Comments may not exceed 200 characters.',\n  },\n];\n\n// Blog Model Definition\nconst blogSchema = new Schema({\n  title: { type: String, required: true, validate: titleValidators },\n  body: { type: String, required: true, validate: bodyValidators },\n  createdBy: { type: String, required: true },\n  createdAt: { type: Date, default: Date.now() },\n  modifiedAt: { type: Date, default: Date.now() },\n  likes: { type: Number, default: 0 },\n  likedBy: { type: Array },\n  dislikes: { type: Number, default: 0 },\n  dislikedBy: { type: Array },\n  comments: [\n    {\n      comment: { type: String, validate: commentValidators },\n      commentator: { type: String },\n    },\n  ],\n});\n\n// Export Module/Schema\nmodule.exports = mongoose.model('Blog', blogSchema);\n","import * as express from 'express';\nconst passport = require('passport');\nimport {\n  createNewBlog,\n  getAllBlogs,\n  getBlogByID,\n  updateBlog,\n  getBlogsForSpecificUser,\n  deleteBlog,\n  LikeABlog,\n  commentBlog,\n  dislikeBlog,\n} from 'libs/database-logics/src/index';\nimport { userModel } from 'apps/backend/src/app/routes/users/user-models';\n\nconst router = express.Router();\n\n/* ===============================================================\n     ADD NEW BLOG POST\n  =============================================================== */\nrouter.post('/addNewBlog', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const blogFromQuery: any = req.body;\n  const blog = createNewBlog(blogFromQuery, res);\n  return blog;\n});\n\n/* ===============================================================\n     GET ALL BLOGS \n  =============================================================== */\nrouter.get('/allBlogs', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const blogs = getAllBlogs(res);\n  return blogs;\n});\n\n/* ===============================================================\n     GET BLOG BY USER ID\n  =============================================================== */\nrouter.get('/singleBlog/:id', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const blog = getBlogByID(req.params.id, req, res);\n  return blog;\n});\n\n/* ===============================================================\n     GET ALL BLOG FOR USER AUTHENTICATED\n  =============================================================== */\nrouter.get('/blogs/:id', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const blogs = getBlogsForSpecificUser(req.params.id, res);\n  return blogs;\n});\n\n/* ===============================================================\n     UPDATE BLOG\n  =============================================================== */\nrouter.put('/updateBlog', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const result = updateBlog(req.body, req, res);\n  return result;\n});\n\n/* ===============================================================\n     DELETE BLOG\n  =============================================================== */\nrouter.delete('/deleteBlog/:id', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const result = deleteBlog(req, res);\n  return result;\n});\n\n/* ===============================================================\n     LIKE BLOG\n  =============================================================== */\nrouter.put('/like', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const result = LikeABlog(req, res);\n  return result;\n});\n\n/* ===============================================================\n     DISLIKE BLOG\n  =============================================================== */\nrouter.put('/dislike', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const result = dislikeBlog(req, res);\n  return result;\n});\n\n/* ===============================================================\n     COMMENT ON BLOG POST\n  =============================================================== */\nrouter.post('/comment', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const result = commentBlog(req, res);\n  return result;\n});\n\nexport default router;\n","const mongoose = require('mongoose');\nmongoose.Promise = global.Promise;\nconst Schema = mongoose.Schema;\nconst { isEmail } = require('validator');\n\nconst userSchema: any = new Schema(\n  {\n    username: {\n      type: String,\n      required: true,\n      minLength: 3,\n      maxLength: 55,\n      unique: true,\n      trim: true,\n    },\n    email: {\n      type: String,\n      required: true,\n      validate: [isEmail],\n      lowercase: true,\n      unique: true,\n      trim: true,\n    },\n    password: {\n      type: String,\n      required: true,\n      max: 1024,\n      minlength: 6,\n    },\n    firstName: {\n      type: String,\n      required: true,\n      minLength: 3,\n      maxLength: 55,\n      unique: true,\n      trim: true,\n    },\n    lastName: {\n      type: String,\n      required: true,\n      minLength: 3,\n      maxLength: 55,\n      unique: true,\n      trim: true,\n    },\n    avatar: {\n      type: String,\n      default: './uploads/profil/random-user.png',\n    },\n    phoneNumber: {\n      type: Number,\n      required: true,\n      minLength: 8,\n      maxLength: 35,\n      unique: false,\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nexport const userModel = mongoose.model('user', userSchema);\n","import * as express from 'express';\nimport { isEqual, pick } from 'lodash/fp';\nconst passport = require('passport');\nimport {\n  createUser,\n  getProfile,\n  updateUserProfile,\n  checkUsername,\n  checkEmail,\n  getAllUsers,\n  deleteAccount,\n} from '../../../../../../libs/database-logics/src/index';\nimport { User } from '../../../../../../libs/data-models/index';\nimport { ensureAuthenticated, validateMiddleware, userFieldsValidator, isUserValidator } from '../../helpers/index';\n\nconst router = express.Router();\n\n// Routes\nrouter.post('/register', userFieldsValidator, validateMiddleware(isUserValidator), (req, res) => {\n  const userDetails: User = req.body;\n  const user = createUser(userDetails, res, req);\n  return user;\n});\n\nrouter.get('/profile', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const user = getProfile(req, res);\n  return user;\n});\n\nrouter.get('/getAllUsers', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const users = getAllUsers(res);\n  return users;\n});\n\nrouter.post('/deleteAccount', passport.authenticate('jwt', { session: false }), (req, res) => {\n  const { username, email } = req.body;\n  const response = deleteAccount(username, email, req, res);\n  return response;\n});\n\n/* ============================================================\n     Route to check if user's email is available for registration\n  ============================================================ */\nrouter.get('/checkEmail/:email', (req, res) => {\n  const user = checkEmail(req.params.email, res);\n  return user;\n});\n\n/* ===============================================================\n     Route to check if user's username is available for registration\n  =============================================================== */\nrouter.get('/checkUsername/:username', (req, res) => {\n  const user = checkUsername(req.params.username, res);\n  return user;\n});\n\nrouter.post(\n  '/updateProfile/:id',\n  passport.authenticate('jwt', { session: false }),\n  userFieldsValidator,\n  validateMiddleware(isUserValidator),\n  (req, res) => {\n    const userDetails: User = req.body;\n    const userUpdated = updateUserProfile(userDetails, res, req, req.params.id);\n    return userUpdated;\n  }\n);\n\nexport default router;\n","import * as path from 'path';\nimport * as express from 'express';\nimport * as logger from 'morgan';\nimport * as passport from 'passport';\nimport * as cors from 'cors';\nimport userRoutes from './app/routes/users/user-routes';\nimport auth from './app/routes/auth/auth';\nimport blogRoutes from './app/routes/blogs/blog-routes';\n\nconst CLIENT_BUILD_PATH = path.join(__dirname, '../frontend');\nconst app = express();\n\napp.use(express.static(CLIENT_BUILD_PATH));\n\nrequire('dotenv').config();\nrequire('../src/app/helpers/dbConnexion');\n\nconst corsOption = {\n  origin: '*',\n  'Access-Control-Allow-Origin': '*',\n  credentials: true,\n};\n\napp.use(cors(corsOption));\napp.use(logger('dev'));\napp.use(express.urlencoded({ extended: false }));\napp.use(express.json());\n\nrequire('../../backend/src/app/helpers/passport')(passport);\n\napp.use(passport.initialize());\n\napp.get('/api', (req, res) => {\n  res.send({ message: 'THIS APPS WORK WELLE' });\n});\n\napp.use(auth);\napp.use('/users', userRoutes);\napp.use('/blog', blogRoutes);\n\napp.get('*', (request, response) => {\n  response.sendFile(path.join(CLIENT_BUILD_PATH, 'index.html'));\n});\n\nconst port = process.env.PORT || 3001;\n\nconst server = app.listen(port, () => {\n  console.log(`Listening at ${port}`);\n});\nserver.on('error', console.error);\n","export * from './lib/database-logics';\n","import * as bcrypt from 'bcryptjs';\nimport * as mongoose from 'mongoose';\nconst BlogShema = require('apps/backend/src/app/routes/blogs/blog-models');\nimport { User } from 'libs/data-models/index';\nimport { userModel } from 'apps/backend/src/app/routes/users/user-models';\n\nexport const authenticateUser = (username: string, password: string, done: Function) => {\n  userModel\n    .findOne({ username })\n    .then((user: any) => {\n      bcrypt.compare(password, user?.password, (err, isMatch) => {\n        if (err) throw err;\n        if (isMatch) {\n          return done(null, user, { success: true, message: 'login successfully', user });\n        } else {\n          return done(null, false, { success: false, message: 'Wrong password' });\n        }\n      });\n    })\n    .catch(err => {\n      return done(null, false, { message: err });\n    });\n};\n\nexport const checkUsername = (username: string, res: any) => {\n  if (!username) {\n    res.json({ success: false, message: 'Username was not provided' }); // Return error\n  } else {\n    userModel.findOne({ username }, (err, user) => {\n      if (err) {\n        res.json({ success: false, message: err });\n      } else {\n        if (user) {\n          res.json({ success: false, message: 'Username is already taken' });\n        } else {\n          res.json({ success: true, message: 'Username is available' });\n        }\n      }\n    });\n  }\n};\n\nexport const checkEmail = (email: string, res: any) => {\n  if (!email) {\n    res.json({ success: false, message: 'Email was not provided' }); // Return error\n  } else {\n    userModel.findOne({ email }, (err, user) => {\n      if (err) {\n        res.json({ success: false, message: err });\n      } else {\n        if (user) {\n          res.json({ success: false, message: 'Email is already taken' }); // Return as taken username\n        } else {\n          res.json({ success: true, message: 'Email is available' }); // Return as vailable username\n        }\n      }\n    });\n  }\n};\n\nexport const createUser = async (userDetails: Partial<User>, res: any, req: any): Promise<any> => {\n  const password = bcrypt.hashSync(userDetails.password!, 10);\n  const user: Partial<User> = {\n    firstName: userDetails.firstName!,\n    lastName: userDetails.lastName!,\n    username: userDetails.username!,\n    password,\n    email: userDetails.email!,\n    phoneNumber: userDetails.phoneNumber!,\n    createdAt: new Date(),\n    modifiedAt: new Date(),\n  };\n\n  return saveUser(user, res, 'addNew', req);\n};\n\nexport const updateUserProfile = async (\n  userDetails: Partial<User>,\n  res: any,\n  userAuthenticated: any,\n  userID: string\n): Promise<any> => {\n  const password = bcrypt.hashSync(userDetails.password!, 10);\n  const user: Partial<User> = {\n    firstName: userDetails.firstName!,\n    lastName: userDetails.lastName!,\n    username: userDetails.username!,\n    password,\n    email: userDetails.email!,\n    phoneNumber: userDetails.phoneNumber!,\n    modifiedAt: new Date(),\n  };\n\n  return saveUser(user, res, 'update', userAuthenticated, userID);\n};\n\nconst saveUser = async (\n  { username, password, email, firstName, lastName, phoneNumber, modifiedAt }: Partial<User>,\n  res: any,\n  queryType: 'addNew' | 'update',\n  req: any,\n  userID?: string\n) => {\n  try {\n    if (queryType === 'addNew') {\n      const userRegistered = await userModel.create({\n        username,\n        email,\n        password,\n        firstName,\n        lastName,\n        phoneNumber,\n      });\n      res.status(201).json({ success: true, message: 'user created successfully', userId: userRegistered._id });\n    } else {\n      userModel.findOne({ _id: userID! }, (err, user) => {\n        if (err) {\n          res.json({ success: false, message: 'Error fonded' + err });\n        } else {\n          if (!user) {\n            res.json({ success: false, message: 'Unable to authenticate user.' });\n          } else {\n            if (parseInt(user._id) !== parseInt(req.user._id)) {\n              res.json({ success: false, message: 'You are not authorized to edit this user' });\n            } else {\n              user.lastName = lastName;\n              user.firstName = firstName;\n              user.email = email;\n              user.phoneNumber = phoneNumber;\n              user.username = username;\n              user.password = password;\n              user.modifiedAt = modifiedAt;\n              user.save(err => {\n                if (err) {\n                  if (err.errors) {\n                    res.json({ success: false, message: 'Please ensure form is filled out properly' });\n                  } else {\n                    res.json({ success: false, message: 'Error fonded' + err });\n                  }\n                } else {\n                  res.json({ success: true, message: 'User Updated!' });\n                }\n              });\n            }\n          }\n        }\n      });\n    }\n  } catch (error) {\n    res.status(400).send({ error });\n  }\n};\n\n// PROFILE\nexport const getProfile = (req: any, res: any) => {\n  userModel.findOne({ _id: req.user._id }).exec((err, user) => {\n    if (err) {\n      res.json({ success: false, message: err });\n    } else {\n      if (!user) {\n        res.json({ success: false, message: 'User not found' });\n      } else {\n        res.json({ success: true, user: user });\n      }\n    }\n  });\n};\n\nexport const deleteAccount = (username: string, email: string, req: any, res: any) => {\n  userModel.findOneAndRemove({ username, email }).exec((err, response) => {\n    if (err) {\n      res.json({ success: false, message: err });\n    } else {\n      if (!response) {\n        res.json({ success: false, message: \"You can't delete this account\" });\n      } else {\n        res.clearCookie('connect.sid');\n        req.logout();\n        res.json({ success: true, message: 'Account deleted succesfully', response });\n      }\n    }\n  });\n};\n\nexport const getAllUsers = (res: any) => {\n  return userModel\n    .find({}, (err, users) => {\n      if (err) {\n        return res.json({ success: false, message: err });\n      } else {\n        if (!users) {\n          return res.json({ success: false, message: 'No users found.' });\n        } else {\n          return res.json({ success: true, users });\n        }\n      }\n    })\n    .sort({ _id: -1 });\n};\n\n// ALL QUERIES RELATIVES TO BLOGGGG\nexport const getAllBlogs = (res: any) => {\n  return BlogShema.find({}, (err, blogs) => {\n    if (err) {\n      return res.json({ success: false, message: err });\n    } else {\n      if (!blogs) {\n        return res.json({ success: false, message: 'No blogs found.' });\n      } else {\n        return res.json({ success: true, blogs: blogs });\n      }\n    }\n  }).sort({ _id: -1 });\n};\n\nexport const getBlogByID = (id: string, req: any, res: any) => {\n  if (!id) {\n    res.json({ success: false, message: 'No blog ID was provided.' });\n  } else {\n    BlogShema.findOne({ _id: id }, (err, blog) => {\n      if (err) {\n        res.json({ success: false, message: 'Not a valid blog id' });\n      } else {\n        if (!blog) {\n          res.json({ success: false, message: 'Blog not found.' });\n        } else {\n          userModel.findOne({ _id: req.user._id }, (err, user) => {\n            if (err) {\n              res.json({ success: false, message: err });\n            } else {\n              if (!user) {\n                res.json({ success: false, message: 'Unable to authenticate user' }); // Return error message\n              } else {\n                if (parseInt(user._id) !== parseInt(blog.createdBy)) {\n                  res.json({\n                    success: false,\n                    message: 'You are not authorized to edit this blog.',\n                    createdBy: blog.createdBy,\n                    userID: user._id,\n                  });\n                } else {\n                  res.json({ success: true, blog });\n                }\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n};\n\nexport const getBlogsForSpecificUser = (userID: string, res: any) => {\n  if (!userID) {\n    return res.json({ success: false, message: 'No user ID was provided.' });\n  } else {\n    BlogShema.find({ createdBy: userID }, (err, blog) => {\n      if (err) {\n        return res.json({ success: false, message: 'Not a valid user id' }); // Return error message\n      } else {\n        if (!blog || blog.length === 0) {\n          return res.json({ success: false, message: 'Blog not found.' }); // Return error message\n        } else {\n          return res.json({ success: true, blogs: blog });\n        }\n      }\n    });\n  }\n};\n\nexport const createNewBlog = (blogParam: any, res: any) => {\n  const blog: any = {\n    title: blogParam.title,\n    body: blogParam.body,\n    createdBy: blogParam.createdBy,\n    createdAt: new Date(),\n    modifiedAt: new Date(),\n    likes: 0,\n    likedBy: [],\n    dislikes: 0,\n    dislikedBy: [],\n    comments: [],\n  };\n\n  const blogCreation = new BlogShema(blog);\n\n  blogCreation.save(err => {\n    if (err) {\n      if (err.errors) {\n        if (err.errors.title) {\n          return res.json({ success: false, message: err.errors.title.message });\n        } else {\n          if (err.errors.body) {\n            return res.json({ success: false, message: err.errors.body.message });\n          } else {\n            return res.json({ success: false, message: err });\n          }\n        }\n      } else {\n        res.json({ success: false, message: err });\n      }\n    } else {\n      res.json({ success: true, message: 'Blog saved!' });\n    }\n  });\n\n  return blogCreation;\n};\n\nexport const updateBlog = (blogParam: any, req: any, res: any) => {\n  if (!blogParam._id) {\n    res.json({ success: false, message: 'No blog id provided' });\n  } else {\n    BlogShema.findOne({ _id: blogParam._id }, (err, blog) => {\n      if (err) {\n        res.json({ success: false, message: 'Not a valid blog id' });\n      } else {\n        if (!blog) {\n          res.json({ success: false, message: 'Blog id was not found.' });\n        } else {\n          userModel.findOne({ _id: req.user._id }, (err, user) => {\n            if (err) {\n              res.json({ success: false, message: err });\n            } else {\n              if (!user) {\n                res.json({ success: false, message: 'Unable to authenticate user.' });\n              } else {\n                if (parseInt(user._id) !== parseInt(blog.createdBy)) {\n                  res.json({ success: false, message: 'You are not authorized to edit this blog post.' });\n                } else {\n                  blog.title = blogParam.title;\n                  blog.body = blogParam.body;\n                  blog.save(err => {\n                    if (err) {\n                      if (err.errors) {\n                        res.json({ success: false, message: 'Please ensure form is filled out properly' });\n                      } else {\n                        res.json({ success: false, message: err });\n                      }\n                    } else {\n                      res.json({ success: true, message: 'Blog Updated!' });\n                    }\n                  });\n                }\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n};\n\nexport const deleteBlog = (req: any, res: any) => {\n  if (!req.params.id) {\n    res.json({ success: false, message: 'No id provided' });\n  } else {\n    BlogShema.findOne({ _id: req.params.id }, (err, blog) => {\n      if (err) {\n        res.json({ success: false, message: 'Invalid id' });\n      } else {\n        if (!blog) {\n          res.json({ success: false, messasge: 'Blog was not found' });\n        } else {\n          userModel.findOne({ _id: req.user._id }, (err, user) => {\n            if (err) {\n              res.json({ success: false, message: err });\n            } else {\n              if (!user) {\n                res.json({ success: false, message: 'Unable to authenticate user.' });\n              } else {\n                if (parseInt(user._id) !== parseInt(blog.createdBy)) {\n                  res.json({ success: false, message: 'You are not authorized to delete this blog post' });\n                } else {\n                  blog.remove(err => {\n                    if (err) {\n                      res.json({ success: false, message: err });\n                    } else {\n                      res.json({ success: true, message: 'Blog deleted!' });\n                    }\n                  });\n                }\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n};\n\nexport const LikeABlog = (req: any, res: any) => {\n  if (!req.body?.id!) {\n    res.json({ success: false, message: 'No id was provided.' });\n  } else {\n    BlogShema.findOne({ _id: req.body.id }, (err, blog) => {\n      if (err) {\n        res.json({ success: false, message: 'Invalid blog id' });\n      } else {\n        if (!blog) {\n          res.json({ success: false, message: 'That blog was not found.' });\n        } else {\n          userModel.findOne({ _id: req.user._id }, (err, user) => {\n            if (err) {\n              res.json({ success: false, message: 'Something went wrong.' });\n            } else {\n              if (!user) {\n                res.json({ success: false, message: 'Could not authenticate user.' });\n              } else {\n                if (parseInt(user._id) === parseInt(blog.createdBy)) {\n                  res.json({ success: false, message: 'Cannot like your own post.' });\n                } else {\n                  if (blog.likedBy.includes(user.username)) {\n                    res.json({ success: false, message: 'You already liked this post.' });\n                  } else {\n                    if (blog.dislikedBy.includes(user.username)) {\n                      blog.dislikes--;\n                      const arrayIndex = blog.dislikedBy.indexOf(user.username);\n                      blog.dislikedBy.splice(arrayIndex, 1);\n                      blog.likes++;\n                      blog.likedBy.push(user.username);\n\n                      blog.save(err => {\n                        if (err) {\n                          res.json({ success: false, message: 'Something went wrong.' });\n                        } else {\n                          res.json({ success: true, message: 'Blog liked!' });\n                        }\n                      });\n                    } else {\n                      blog.likes++;\n                      blog.likedBy.push(user.username);\n                      blog.save(err => {\n                        if (err) {\n                          res.json({ success: false, message: 'Something went wrong.' });\n                        } else {\n                          res.json({ success: true, message: 'Blog liked!' });\n                        }\n                      });\n                    }\n                  }\n                }\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n};\n\nexport const dislikeBlog = (req: any, res: any) => {\n  if (!req.body.id) {\n    res.json({ success: false, message: 'No id was provided.' });\n  } else {\n    BlogShema.findOne({ _id: req.body.id }, (err, blog) => {\n      if (err) {\n        res.json({ success: false, message: 'Invalid blog id' });\n      } else {\n        if (!blog) {\n          res.json({ success: false, message: 'That blog was not found.' });\n        } else {\n          userModel.findOne({ _id: req.user._id }, (err, user) => {\n            if (err) {\n              res.json({ success: false, message: 'Something went wrong.' });\n            } else {\n              if (!user) {\n                res.json({ success: false, message: 'Could not authenticate user.' });\n              } else {\n                if (parseInt(user._id) === parseInt(blog.createdBy)) {\n                  res.json({ success: false, message: 'Cannot dislike your own post.' });\n                } else {\n                  if (blog.dislikedBy.includes(user.username)) {\n                    res.json({ success: false, message: 'You already disliked this post.' });\n                  } else {\n                    if (blog.likedBy.includes(user.username)) {\n                      blog.likes--;\n                      const arrayIndex = blog.likedBy.indexOf(user.username);\n                      blog.likedBy.splice(arrayIndex, 1);\n                      blog.dislikes++;\n                      blog.dislikedBy.push(user.username);\n\n                      blog.save(err => {\n                        if (err) {\n                          res.json({ success: false, message: 'Something went wrong.' });\n                        } else {\n                          res.json({ success: true, message: 'Blog disliked!' });\n                        }\n                      });\n                    } else {\n                      blog.dislikes++;\n                      blog.dislikedBy.push(user.username);\n\n                      blog.save(err => {\n                        if (err) {\n                          res.json({ success: false, message: 'Something went wrong.' });\n                        } else {\n                          res.json({ success: true, message: 'Blog disliked!' });\n                        }\n                      });\n                    }\n                  }\n                }\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n};\n\nexport const commentBlog = (req: any, res: any) => {\n  if (!req.body.comment) {\n    res.json({ success: false, message: 'No comment provided' });\n  } else {\n    if (!req.body.id) {\n      res.json({ success: false, message: 'No id was provided' });\n    } else {\n      BlogShema.findOne({ _id: req.body.id }, (err, blog) => {\n        if (err) {\n          res.json({ success: false, message: 'Invalid blog id' });\n        } else {\n          if (!blog) {\n            res.json({ success: false, message: 'Blog not found.' });\n          } else {\n            userModel.findOne({ _id: req.user._id }, (err, user) => {\n              if (err) {\n                res.json({ success: false, message: 'Something went wrong' });\n              } else {\n                if (!user) {\n                  res.json({ success: false, message: 'User not found.' });\n                } else {\n                  blog.comments.push({\n                    comment: req.body.comment,\n                    commentator: user.username,\n                  });\n\n                  blog.save(err => {\n                    if (err) {\n                      res.json({ success: false, message: 'Something went wrong.' }); // Return error message\n                    } else {\n                      res.json({ success: true, message: 'Comment saved' }); // Return success message\n                    }\n                  });\n                }\n              }\n            });\n          }\n        }\n      });\n    }\n  }\n};\n","module.exports = require(\"bcryptjs\");","module.exports = require(\"cors\");","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"express-validator\");","module.exports = require(\"fs\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"lodash/fp\");","module.exports = require(\"mongoose\");","module.exports = require(\"morgan\");","module.exports = require(\"passport\");","module.exports = require(\"passport-jwt\");","module.exports = require(\"path\");","module.exports = require(\"shortid\");","module.exports = require(\"tslib\");","module.exports = require(\"validator\");"],"sourceRoot":""}